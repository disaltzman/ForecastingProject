"0",""
"0","# Create Talker Novelty vector"
"0","PC %<>% "
"0","  mutate.(talker_novelty = as.factor("
"0","    case_when.("
"0","  grepl(""-female-trained"",PC$spreadsheet_name) & PC$talker==""female""~""trained"", grepl(""-male-trained"",PC$spreadsheet_name) & PC$talker==""male""~""trained"","
"0","  TRUE ~ ""novel"")))"
"0",""
"0","# Create Talker x Novelty vector"
"0","PC$talkerXnovelty <- factor(interaction(PC$talker,PC$talker_novelty),"
"0","                            levels=c(""male.trained"",""female.novel"","
"0","                                     ""female.trained"",""male.novel""))"
"0",""
"0","# Create trained talker vector"
"0","# PC %<>% "
"0","#   mutate.(trained_talker = as.factor("
"0","#     case_when.("
"0","#   grepl(""-female-trained"",PC$spreadsheet_name) ~ ""female.trained"", "
"0","#   grepl(""-male-trained"",PC$spreadsheet_name)~""male.trained"")))"
"0",""
"0","# PC %<>% "
"0","#   mutate.(matching = as.factor(case_when.("
"0","#     spreadsheet_name==""mismatch-male-trained-female-novel-accent"" | spreadsheet_name == ""mismatch-female-trained-male-novel-accent""~""mismatch-novel-talker-accent"","
"0","#     spreadsheet_name==""mismatch-male-trained-accent-female-novel"" | spreadsheet_name == ""mismatch-female-trained-accent-male-novel""~""mismatch-trained-talker-accent"","
"0","#   grepl(""-accented"",PC$spreadsheet_name)~""match-non-native"","
"0","#   grepl(""-unaccented"",PC$spreadsheet_name)~""match-native"")))"
"0",""
"0","# Create accent matching vector"
"0","PC %<>% "
"0","  mutate.(matching = as.factor(case_when.("
"0","    grepl(""mismatch"",PC$spreadsheet_name) ~ ""mismatch"","
"0","    TRUE ~ ""match"""
"0","  )))"
"0",""
"0","# Summarize to check endpoint accuracy"
"0","plotdata <- Rmisc::summarySE(PC,measurevar = ""response"",groupvars = c(""talker_novelty"",""step"",""type"",""participant_public_id"",""spreadsheet_name""))"
"0",""
"0","# Create dataframe with ID's to be excluded"
"0","exclude <- plotdata %>% "
"0","  filter.(step==1&response<0.8|step==7&response>0.2)"
"0",""
"0","# Filter those participants out of main data"
"0","PC %<>% "
"0","  filter.(!participant_public_id %in% exclude$participant_public_id)"
"0",""
"0","# Check how many good participants now remain"
"0","PC %>% "
"0","  summarise.(n=n_distinct(participant_public_id),"
"0","             .by = spreadsheet_name)"
